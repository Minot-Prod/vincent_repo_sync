name: bootstrap-knowledge
on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]
jobs:
  lint-md:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Validate Markdown front-matter
        run: |
          set -e
          for f in $(git ls-files '*.md'); do
            head -n 30 "$f" | grep -qi 'title:' || echo "::warning file=$f::Missing 'title' in front-matter";
            head -n 50 "$f" | grep -qi 'last_review:' || echo "::warning file=$f::Missing 'last_review' in front-matter";
          done
